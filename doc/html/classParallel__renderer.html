<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>quicklens: Parallel_renderer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">quicklens
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classParallel__renderer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Parallel_renderer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for OpenCV parallelization: Render the image produced by the lens on the given screen for the given source.  
 <a href="classParallel__renderer.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Parallel_renderer:</div>
<div class="dyncontent">
<div class="center"><img src="classParallel__renderer__inherit__graph.png" border="0" usemap="#Parallel__renderer_inherit__map" alt="Inheritance graph"/></div>
<map name="Parallel__renderer_inherit__map" id="Parallel__renderer_inherit__map">
<area shape="rect" title="Class for OpenCV parallelization: Render the image produced by the lens on the given screen for the g..." alt="" coords="7,80,126,107"/>
<area shape="rect" title=" " alt="" coords="5,5,128,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Parallel_renderer:</div>
<div class="dyncontent">
<div class="center"><img src="classParallel__renderer__coll__graph.png" border="0" usemap="#Parallel__renderer_coll__map" alt="Collaboration graph"/></div>
<map name="Parallel__renderer_coll__map" id="Parallel__renderer_coll__map">
<area shape="rect" title="Class for OpenCV parallelization: Render the image produced by the lens on the given screen for the g..." alt="" coords="29,379,147,405"/>
<area shape="rect" title=" " alt="" coords="5,289,128,316"/>
<area shape="rect" href="classscreenT.html" title="Class representing interactive screen on which the images are rendered, using OpenCV windows." alt="" coords="152,289,221,316"/>
<area shape="rect" href="classlensT.html" title="Class implementing a gravitational lens, its physical properties and its screen geometry." alt="" coords="159,199,214,225"/>
<area shape="rect" title=" " alt="" coords="146,5,190,32"/>
<area shape="rect" href="classsourceT.html" title="Class representing a source and its geometric properties on the screen." alt="" coords="239,199,308,225"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeee8681ddd1b0bec16ef33d35ebebb5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallel__renderer.html#aeee8681ddd1b0bec16ef33d35ebebb5c">Parallel_renderer</a> (<a class="el" href="classscreenT.html">screenT</a> *std_screen, bool mode)</td></tr>
<tr class="separator:aeee8681ddd1b0bec16ef33d35ebebb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3794e982d95d7761e10d3ce135b0e42"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallel__renderer.html#ac3794e982d95d7761e10d3ce135b0e42">operator()</a> (const cv::Range &amp;range) const</td></tr>
<tr class="separator:ac3794e982d95d7761e10d3ce135b0e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a27bfff161cf834168b8cd0d83231f365"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classscreenT.html">screenT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallel__renderer.html#a27bfff161cf834168b8cd0d83231f365">screen</a></td></tr>
<tr class="separator:a27bfff161cf834168b8cd0d83231f365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23b75ade0dfe0d8a055ff50b10d3c26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallel__renderer.html#ad23b75ade0dfe0d8a055ff50b10d3c26">recompute_lensed</a></td></tr>
<tr class="separator:ad23b75ade0dfe0d8a055ff50b10d3c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for OpenCV parallelization: Render the image produced by the lens on the given screen for the given source. </p>

<p class="definition">Definition at line <a class="el" href="renderer_8cpp_source.html#l00014">14</a> of file <a class="el" href="renderer_8cpp_source.html">renderer.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeee8681ddd1b0bec16ef33d35ebebb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee8681ddd1b0bec16ef33d35ebebb5c">&#9670;&nbsp;</a></span>Parallel_renderer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Parallel_renderer::Parallel_renderer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classscreenT.html">screenT</a> *&#160;</td>
          <td class="paramname"><em>std_screen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std_screen</td><td>Screen object referred to </td></tr>
    <tr><td class="paramname">mode</td><td>Drawing mode: Re-draw whole image? (rather than re-drawing only the overlays) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="renderer_8cpp_source.html#l00025">25</a> of file <a class="el" href="renderer_8cpp_source.html">renderer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac3794e982d95d7761e10d3ce135b0e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3794e982d95d7761e10d3ce135b0e42">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Parallel_renderer::operator() </td>
          <td>(</td>
          <td class="paramtype">const cv::Range &amp;&#160;</td>
          <td class="paramname"><em>range</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Define a relative y-coordinate with respect to the lens origin and specify the fall-off of alpha outside the defined lens area in y-dir.</p>
<p>If CC val is 255 and if only the overlays shall be redrawn, we can set pixel directly to 255 and skip to next one, since CC is always on top.</p>
<p>Add contribution of the CC contour image. Gray values can occur since contours are anti-aliased.</p>
<p>Place rel_j within bounds (result -&gt; safe_j) and specify the fall-off of alpha outside the defined lens area in y-direction</p>
<p>Compute lens eq. at pixel (j,i) to get target source pos. Then, get linearly interpolated source RGB value at target (beta1, beta2). Since the latter will in general lie between different source pixels, the interpolation is used to obtain the contributions at the particular coord. The function returns zero if beta is outside the area covered by the source.</p>
<p>Get final image pixel as the sum of lensed image + overlay (unless the pixel belongs to a caustic, in which case it has already been set)</p>

<p class="definition">Definition at line <a class="el" href="renderer_8cpp_source.html#l00027">27</a> of file <a class="el" href="renderer_8cpp_source.html">renderer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad23b75ade0dfe0d8a055ff50b10d3c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23b75ade0dfe0d8a055ff50b10d3c26">&#9670;&nbsp;</a></span>recompute_lensed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Parallel_renderer::recompute_lensed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="renderer_8cpp_source.html#l00018">18</a> of file <a class="el" href="renderer_8cpp_source.html">renderer.cpp</a>.</p>

</div>
</div>
<a id="a27bfff161cf834168b8cd0d83231f365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27bfff161cf834168b8cd0d83231f365">&#9670;&nbsp;</a></span>screen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classscreenT.html">screenT</a>* Parallel_renderer::screen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="renderer_8cpp_source.html#l00017">17</a> of file <a class="el" href="renderer_8cpp_source.html">renderer.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="renderer_8cpp_source.html">renderer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
