<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>quicklens: lensT Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">quicklens
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classlensT-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lensT Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class implementing a gravitational lens, its physical properties and its screen geometry.  
 <a href="classlensT.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lens_8h_source.html">lens.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for lensT:</div>
<div class="dyncontent">
<div class="center"><img src="classlensT__coll__graph.png" border="0" usemap="#lensT_coll__map" alt="Collaboration graph"/></div>
<map name="lensT_coll__map" id="lensT_coll__map">
<area shape="rect" title="Class implementing a gravitational lens, its physical properties and its screen geometry." alt="" coords="5,197,60,224"/>
<area shape="rect" title=" " alt="" coords="11,5,55,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac1fa5d2525a03738c2f53e67ba503da1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#ac1fa5d2525a03738c2f53e67ba503da1">lensT</a> (Mat &amp;kappa_in, int x, int y)</td></tr>
<tr class="separator:ac1fa5d2525a03738c2f53e67ba503da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9498f8dde4393f5b0a1a342d6fed7869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a9498f8dde4393f5b0a1a342d6fed7869">move</a> (int x_pos, int y_pos)</td></tr>
<tr class="separator:a9498f8dde4393f5b0a1a342d6fed7869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76f7d9e193679fe23ac5fc1ae6b4bd3"><td class="memItemLeft" align="right" valign="top">const int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#af76f7d9e193679fe23ac5fc1ae6b4bd3">get_origin</a> ()</td></tr>
<tr class="separator:af76f7d9e193679fe23ac5fc1ae6b4bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca3587cd8eeaa9b7eaab6bec8f554d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#abca3587cd8eeaa9b7eaab6bec8f554d9">get_width</a> ()</td></tr>
<tr class="separator:abca3587cd8eeaa9b7eaab6bec8f554d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab4f0f21b8df820cd4b3529c9da40f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#adab4f0f21b8df820cd4b3529c9da40f4">get_height</a> ()</td></tr>
<tr class="separator:adab4f0f21b8df820cd4b3529c9da40f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3764d6ba56c4951bf299583ad56729b6"><td class="memItemLeft" align="right" valign="top">Mat &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a3764d6ba56c4951bf299583ad56729b6">get_kappa</a> ()</td></tr>
<tr class="separator:a3764d6ba56c4951bf299583ad56729b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2711d0664318e7a34447fffc0d3aec95"><td class="memItemLeft" align="right" valign="top">Mat &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a2711d0664318e7a34447fffc0d3aec95">get_kappa8u</a> ()</td></tr>
<tr class="separator:a2711d0664318e7a34447fffc0d3aec95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642e04172486dd764b77f364ec535c3c"><td class="memItemLeft" align="right" valign="top">Mat &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a642e04172486dd764b77f364ec535c3c">get_cc</a> ()</td></tr>
<tr class="separator:a642e04172486dd764b77f364ec535c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9610c2e7ecbaa78c47feac511cda8c89"><td class="memItemLeft" align="right" valign="top">Mat &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a9610c2e7ecbaa78c47feac511cda8c89">get_caustics</a> ()</td></tr>
<tr class="separator:a9610c2e7ecbaa78c47feac511cda8c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab547557234d1b65c10468d4d4c5e61d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#ab547557234d1b65c10468d4d4c5e61d9">contains</a> (int x, int y)</td></tr>
<tr class="separator:ab547557234d1b65c10468d4d4c5e61d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2effe28c6e9aa74bfc0996f36d9757"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#ace2effe28c6e9aa74bfc0996f36d9757">raytrace_pixel</a> (int x1, int x2, int rel1_safe, int rel2_safe, double scale_fac, double &amp;y1, double &amp;y2)</td></tr>
<tr class="separator:ace2effe28c6e9aa74bfc0996f36d9757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeead4fb7e723ba62ca7146f733b00b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#afeead4fb7e723ba62ca7146f733b00b8">compute_psi_from_kappa</a> ()</td></tr>
<tr class="separator:afeead4fb7e723ba62ca7146f733b00b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf1a0da3b6460f382fdb41063e270c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#afaf1a0da3b6460f382fdb41063e270c2">compute_derivatives_from_psi</a> ()</td></tr>
<tr class="separator:afaf1a0da3b6460f382fdb41063e270c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d455955e172b88c5c51d8ad060f15b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a05d455955e172b88c5c51d8ad060f15b">update_cc_and_caustics</a> (bool include_radial_lines)</td></tr>
<tr class="separator:a05d455955e172b88c5c51d8ad060f15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1d87ff47b1160a70e9f734b578cf61ca"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a1d87ff47b1160a70e9f734b578cf61ca">weight</a> = 1.</td></tr>
<tr class="separator:a1d87ff47b1160a70e9f734b578cf61ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9fb9d2685a92911bfdc135c1dab4d33b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a9fb9d2685a92911bfdc135c1dab4d33b">origin</a> [2] = {0, 0}</td></tr>
<tr class="separator:a9fb9d2685a92911bfdc135c1dab4d33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf78923f60a723ee1ffe26b00c08e53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a7bf78923f60a723ee1ffe26b00c08e53">end_points</a> [2] = {0, 0}</td></tr>
<tr class="separator:a7bf78923f60a723ee1ffe26b00c08e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778b92717ce88e12e93084f35ce7b747"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a778b92717ce88e12e93084f35ce7b747">w</a></td></tr>
<tr class="separator:a778b92717ce88e12e93084f35ce7b747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0485ef4e471f7575da268920088e2b8"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#ad0485ef4e471f7575da268920088e2b8">h</a></td></tr>
<tr class="separator:ad0485ef4e471f7575da268920088e2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef6c4457cdf7581b1e3fd2fdea4a33b"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#adef6c4457cdf7581b1e3fd2fdea4a33b">psi</a></td></tr>
<tr class="separator:adef6c4457cdf7581b1e3fd2fdea4a33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197110f03af868c1325377986cba263b"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a197110f03af868c1325377986cba263b">alpha1</a></td></tr>
<tr class="separator:a197110f03af868c1325377986cba263b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ec416061b260e6718b9c6bf08fbd6f"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a43ec416061b260e6718b9c6bf08fbd6f">alpha2</a></td></tr>
<tr class="separator:a43ec416061b260e6718b9c6bf08fbd6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179067a43949af953a088572941c7529"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a179067a43949af953a088572941c7529">kappa</a></td></tr>
<tr class="separator:a179067a43949af953a088572941c7529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf39de8848894fac45171cd786045a2"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#adcf39de8848894fac45171cd786045a2">kappa8u</a></td></tr>
<tr class="separator:adcf39de8848894fac45171cd786045a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949215c4fff8c4f28a7e4aaa70b697c2"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a949215c4fff8c4f28a7e4aaa70b697c2">shear</a></td></tr>
<tr class="separator:a949215c4fff8c4f28a7e4aaa70b697c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b3fa0a8858f181dd66b52153173e0"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a871b3fa0a8858f181dd66b52153173e0">cc_map</a></td></tr>
<tr class="separator:a871b3fa0a8858f181dd66b52153173e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de27da886b23a8b79da844d970c5167"><td class="memItemLeft" align="right" valign="top">Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a4de27da886b23a8b79da844d970c5167">caustic_map</a></td></tr>
<tr class="separator:a4de27da886b23a8b79da844d970c5167"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a562470e5a86171e834d342cb89365527"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlensT.html#a562470e5a86171e834d342cb89365527">invert_cc_map</a></td></tr>
<tr class="separator:a562470e5a86171e834d342cb89365527"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class implementing a gravitational lens, its physical properties and its screen geometry. </p>

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00011">11</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac1fa5d2525a03738c2f53e67ba503da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fa5d2525a03738c2f53e67ba503da1">&#9670;&nbsp;</a></span>lensT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lensT::lensT </td>
          <td>(</td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>kappa_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kappa_in</td><td>Input convergence map (CV_64FC1) </td></tr>
    <tr><td class="paramname">x</td><td>Lens center x-position </td></tr>
    <tr><td class="paramname">y</td><td>Lens center y-position </td></tr>
  </table>
  </dd>
</dl>
<p>Create double from uchar such that grayscale value 255 translates to kappa=2 (arbitr. choice)</p>
<p>Create uchar version from input type and apply logarithmic scaling, restricting kappa to [10^(-2.5), 255/70], which is an arbitrary choice for the display intensity limits of the image on the screen. Feel free to modify these choices.</p>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00016">16</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afaf1a0da3b6460f382fdb41063e270c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf1a0da3b6460f382fdb41063e270c2">&#9670;&nbsp;</a></span>compute_derivatives_from_psi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lensT::compute_derivatives_from_psi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute deflection field and shear magnitude by applying derivatives to psi (This requires psi to have been defined earlier) </p>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00156">156</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="afeead4fb7e723ba62ca7146f733b00b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeead4fb7e723ba62ca7146f733b00b8">&#9670;&nbsp;</a></span>compute_psi_from_kappa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lensT::compute_psi_from_kappa </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute lensing potential psi from convergence via superposition with Green's fct (this requires that kappa has been defined) </p>
<p>Prepare discrete fast Fourier transforms (DFTs). We enlarge the input Mat by two via zero-padding since the DFT kernel will have twice the size of the data to fit it entirely. We then obtain the optimal DFT size to maximize the performance (see OpenCV doc for details)</p>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00124">124</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="ab547557234d1b65c10468d4d4c5e61d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab547557234d1b65c10468d4d4c5e61d9">&#9670;&nbsp;</a></span>contains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lensT::contains </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if pixel (x,y) lies within the region covered by lens pixel data</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pixel x-coordinate </td></tr>
    <tr><td class="paramname">y</td><td>Pixel y-coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the pixel (x,y) is contained in the area </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00110">110</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a9610c2e7ecbaa78c47feac511cda8c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9610c2e7ecbaa78c47feac511cda8c89">&#9670;&nbsp;</a></span>get_caustics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mat &amp; lensT::get_caustics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get caustic map </p><dl class="section return"><dt>Returns</dt><dd>Caustic contour map in CV_8UC1 (uchar) format </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00104">104</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a642e04172486dd764b77f364ec535c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642e04172486dd764b77f364ec535c3c">&#9670;&nbsp;</a></span>get_cc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mat &amp; lensT::get_cc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get critical curve map </p><dl class="section return"><dt>Returns</dt><dd>Critical curve contour map in CV_8UC1 (uchar) format </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00098">98</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="adab4f0f21b8df820cd4b3529c9da40f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab4f0f21b8df820cd4b3529c9da40f4">&#9670;&nbsp;</a></span>get_height()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lensT::get_height </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get height of lens area (px) </p><dl class="section return"><dt>Returns</dt><dd>Height </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00080">80</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a3764d6ba56c4951bf299583ad56729b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3764d6ba56c4951bf299583ad56729b6">&#9670;&nbsp;</a></span>get_kappa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mat &amp; lensT::get_kappa </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get lens convergence map </p><dl class="section return"><dt>Returns</dt><dd>Convergence map in CV_64FC1 (double) format </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00086">86</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a2711d0664318e7a34447fffc0d3aec95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2711d0664318e7a34447fffc0d3aec95">&#9670;&nbsp;</a></span>get_kappa8u()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mat &amp; lensT::get_kappa8u </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get lens convergence map </p><dl class="section return"><dt>Returns</dt><dd>Convergence map in CV_8UC1 (uchar) format </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00092">92</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="af76f7d9e193679fe23ac5fc1ae6b4bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76f7d9e193679fe23ac5fc1ae6b4bd3">&#9670;&nbsp;</a></span>get_origin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int * lensT::get_origin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get origin of area covered by lens in pixels </p><dl class="section return"><dt>Returns</dt><dd>Current origin (x,y) coordinates </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00068">68</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="abca3587cd8eeaa9b7eaab6bec8f554d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca3587cd8eeaa9b7eaab6bec8f554d9">&#9670;&nbsp;</a></span>get_width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lensT::get_width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get width of lens area (px) </p><dl class="section return"><dt>Returns</dt><dd>Width </dd></dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00074">74</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a9498f8dde4393f5b0a1a342d6fed7869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9498f8dde4393f5b0a1a342d6fed7869">&#9670;&nbsp;</a></span>move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lensT::move </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move lens to a specific pixel position, update origin (requires w,h to be set!)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x_pos</td><td>Lens center (new) x-position </td></tr>
    <tr><td class="paramname">y_pos</td><td>Lens center (new) y-position </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00058">58</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="ace2effe28c6e9aa74bfc0996f36d9757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2effe28c6e9aa74bfc0996f36d9757">&#9670;&nbsp;</a></span>raytrace_pixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lensT::raytrace_pixel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rel1_safe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rel2_safe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale_fac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Solve lens equation for given pixel, return source plane position y.</p>
<p>Outside the lens area, alpha is interpolated exponentially to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>Lens plane pixel x-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x2</td><td>Lens plane pixel y-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rel1_safe</td><td>Lens plane x coord rel to lens origin (has to be within range; passed here in addition to x1 to enable faster computation) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rel2_safe</td><td>Lens plane y coord rel to lens origin (has to be within range; passed here in addition to x2 to enable faster computation) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale_fac</td><td>Add. scaling factor used to implement interpolation beyond bounds </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">y1</td><td>Target source plane x-coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">y2</td><td>Target source plane y-coordinate </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00116">116</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<a id="a05d455955e172b88c5c51d8ad060f15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d455955e172b88c5c51d8ad060f15b">&#9670;&nbsp;</a></span>update_cc_and_caustics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lensT::update_cc_and_caustics </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_radial_lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(Re)-compute critical lines and caustics via the Jacobian from pre-computed kappa and shear </p>
<p>Compute derivatives if this wasn't done before (need to do this only once, then re-scale the quantities by the currently applied weight)</p>
<p>Compute eigenvalues of the Jacobian matrix and obtain Jacobian determinant (or tangential eigenvalue) map "detJ" from the eigenvalues.</p>

<p class="definition">Definition at line <a class="el" href="lens_8cpp_source.html#l00176">176</a> of file <a class="el" href="lens_8cpp_source.html">lens.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a562470e5a86171e834d342cb89365527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562470e5a86171e834d342cb89365527">&#9670;&nbsp;</a></span>invert_cc_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classinvert__cc__map.html">invert_cc_map</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00029">29</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a197110f03af868c1325377986cba263b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197110f03af868c1325377986cba263b">&#9670;&nbsp;</a></span>alpha1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::alpha1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00022">22</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a43ec416061b260e6718b9c6bf08fbd6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ec416061b260e6718b9c6bf08fbd6f">&#9670;&nbsp;</a></span>alpha2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::alpha2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00023">23</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a4de27da886b23a8b79da844d970c5167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de27da886b23a8b79da844d970c5167">&#9670;&nbsp;</a></span>caustic_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::caustic_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00027">27</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a871b3fa0a8858f181dd66b52153173e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871b3fa0a8858f181dd66b52153173e0">&#9670;&nbsp;</a></span>cc_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::cc_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00026">26</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a7bf78923f60a723ee1ffe26b00c08e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf78923f60a723ee1ffe26b00c08e53">&#9670;&nbsp;</a></span>end_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lensT::end_points[2] = {0, 0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00016">16</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="ad0485ef4e471f7575da268920088e2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0485ef4e471f7575da268920088e2b8">&#9670;&nbsp;</a></span>h</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int lensT::h</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00018">18</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a179067a43949af953a088572941c7529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179067a43949af953a088572941c7529">&#9670;&nbsp;</a></span>kappa</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::kappa</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00024">24</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="adcf39de8848894fac45171cd786045a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf39de8848894fac45171cd786045a2">&#9670;&nbsp;</a></span>kappa8u</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::kappa8u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00024">24</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a9fb9d2685a92911bfdc135c1dab4d33b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb9d2685a92911bfdc135c1dab4d33b">&#9670;&nbsp;</a></span>origin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lensT::origin[2] = {0, 0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00015">15</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="adef6c4457cdf7581b1e3fd2fdea4a33b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef6c4457cdf7581b1e3fd2fdea4a33b">&#9670;&nbsp;</a></span>psi</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::psi</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00021">21</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a949215c4fff8c4f28a7e4aaa70b697c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949215c4fff8c4f28a7e4aaa70b697c2">&#9670;&nbsp;</a></span>shear</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Mat lensT::shear</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00025">25</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a778b92717ce88e12e93084f35ce7b747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a778b92717ce88e12e93084f35ce7b747">&#9670;&nbsp;</a></span>w</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int lensT::w</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00017">17</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<a id="a1d87ff47b1160a70e9f734b578cf61ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d87ff47b1160a70e9f734b578cf61ca">&#9670;&nbsp;</a></span>weight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double lensT::weight = 1.</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lens_8h_source.html#l00033">33</a> of file <a class="el" href="lens_8h_source.html">lens.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="lens_8h_source.html">lens.h</a></li>
<li>src/<a class="el" href="lens_8cpp_source.html">lens.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
